<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Resume</title>
  <style>
    /* RESET */
    * { box-sizing: border-box; margin:0; padding:0 }
    html, body {
      min-height:100vh; overflow-x:hidden; overflow-y:auto;
      -webkit-overflow-scrolling:touch;
      font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
    }

    @keyframes cardLoad {
      from { transform:translateY(20px) translateX(1px); opacity:0.9 }
      to   { transform:translateY(0);    opacity:1 }
    }

    /* LAYOUT */
    .container {
      display:flex; 
      width:100%; 
      min-height:100vh;
      position:relative; 
      overflow:hidden;
      transition:all .3s ease;
      perspective: 800px;
    }

    /* PROJECT LIST */
    .projects-list {
      flex:1; 
      background:#ebebeb;
      overflow-y:auto; 
      -webkit-overflow-scrolling:touch;
      transition:width .3s ease;
      perspective: 800px;
    }
    .container.details-open .projects-list {
      flex:none;
      width:clamp(280px,35%,300px);
    }
    .projects {
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
      gap:0.8rem; padding:0.8rem;
    }

    /* CARD */
    .card {
      background:#fff; 
      border-radius: 20px; 
      overflow:hidden;
      display:flex; 
      flex-direction:column; 
      cursor:pointer;
      animation:cardLoad .5s ease-out forwards;
      transition:transform .3s ease,box-shadow .3s ease;
      transform: translateY(20px) translateX(1px);
      transform-style: preserve-3d;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .card:nth-child(1){animation-delay:.1s}
    .card:nth-child(2){animation-delay:.2s}
    .card:nth-child(3){animation-delay:.3s}
    .card img { width:100%; height:140px; object-fit:cover }
    .card-content {
      padding:0.9rem; flex:1;
      display:flex; flex-direction:column;
    }
    .card-content h2 { font-size:1rem; margin-bottom:.5rem; color:#222 }
    .card-content p  { flex:1; font-size:0.7rem; color:#555 }
    .view-details {
      margin-top:1rem; font-size:.6rem;
      color:#6e8efb; font-weight:600;
      user-select:none;
    }
    .card.selected {
      transform: translateZ(20px) scale(1.05) rotateZ(20);
      box-shadow: 0 20px 40px rgba(0,0,0,0.3);
      z-index: 1;

    }

    /* DETAILS PANEL (FLEX) */
    .details-panel {
      flex:0 0 0; background:#fff;
      display:flex; flex-direction:column;
      overflow-y:auto; -webkit-overflow-scrolling:touch;
      transform:translateX(100%); opacity:0;
      transition:
        transform .3s ease,
        opacity   .3s ease,
        flex      .3s ease;
      position:relative; pointer-events:none;
    }
    .container.details-open .details-panel {
      flex:1 1 0%; transform:translateX(0);
      opacity:1; pointer-events:auto;
    }

    /* HEADER & CONTENT */
    .details-panel header {
      display:flex;
      align-items:center;
      justify-content:flex-start; /* left-align both back & title */
      gap:1rem;
      padding:0.5rem 1rem;
      border-bottom:1px solid #eee;
      background:#fff;
      position:sticky; top:0; z-index:10;
    }
    .details-panel header .back-btn {
      background:none; border:none;
      font-size:1rem; color:#777;
      cursor:pointer; transition:color .2s;
    }
    .details-panel header .back-btn:hover {
      color:#333;
    }
    .details-panel header h2 {
      font-size:1.5rem;
      font-weight:600;
      color:#222;
      margin:0;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      flex:1; /* fill available space */
      text-align:left;
    }
    .details-panel header .close-btn {
      margin-left:auto; /* push to right */
      background:none; border:none;
      font-size:1.2rem; color:#999;
      cursor:pointer; transition:color .2s;
    }
    .details-panel header .close-btn:hover {
      color:#333;
    }
    .details-panel .content {
      flex:1; padding:1.5rem;
      color:#444; line-height:1.5;
    }

    /* MOBILE OVERRIDES */
    @media (max-width:768px) {
      .container {
        flex-direction:column;
        height:auto; min-height:100vh;
      }
      .container.details-open .projects-list {
        display:none;
      }
      .details-panel {
        position:fixed; top:0; left:0; right:0; bottom:0;
        transform:translateX(100%); opacity:0;
        transition:transform .4s ease-in-out,opacity .4s ease-in-out;
        pointer-events:none; z-index:20;
      }
      .container.details-open .details-panel {
        transform:translateX(0); opacity:1;
        pointer-events:auto;
      }

      /* STACK BACK ABOVE TITLE (both left-aligned now) */
      .details-panel header {
        flex-direction: column;
        align-items: flex-start;
        gap:0.25rem;
        padding:1rem;
      }
      .details-panel header .back-btn {
        font-size:1rem;
        color:#777;
      }
      .details-panel header h2 {
        font-size:1.3rem;
        white-space:normal;
        overflow:visible;
      }
      .details-panel header .close-btn {
        display:none;
      }
    }

    @media (min-width: 769px) {
      .details-panel header .back-btn {
        display: none;
      }
    }

    .card img {
      transition: filter 0.3s ease;
    }
    .container.details-open .card:not(.selected) img {
      opacity: 0.8;
      filter: blur(4px);
    }
     .container.details-open .card:not(.selected) {
      opacity: 0;
    }
    .container.details-open .card.selected img {
      filter: none;
    }
  </style>
</head>
<body>
  <div class="container" id="container">
    <!-- PROJECT CARDS -->
  
    <aside class="projects-list">
      <h2 style="text-align: center; margin-top: 15px; color: #5d5d5d"> My Projects</h2>
      <div class="projects">
        
        <div class="card" data-title="Ignition Web Development" data-description="Details about Project A.">
          <img src="https://inductiveautomation.com/blog/sites/default/files/inline-images/ignition-scada-hmi.jpeg" alt="">
          <div class="card-content">
            <h2>Ignition Web Development</h2>
            <p>HMI interfaces and utlizing extenisve databases</p>
            <div class="view-details">Details →</div>
          </div>
        </div>
        <div class="card" data-title="Project C" data-description="Details about Project C.">
          <img src="https://www.amincharoliya.com/_next/image?url=%2Fimages%2Farticles%2Fjs-class.png&w=3840&q=75" alt="">
          <div class="card-content">
            <h2>Ignition Web Development</h2>
            <p>HMI interfaces and utlizing extenisve databases</p>
            <div class="view-details">Details →</div>
          </div>
        </div>
        <div class="card" data-title="Project B" data-description="Details about Project B.">
          <img src="pic1.jpg" alt="">
          <div class="card-content">
            <h2>Monte-Carlo Estmination</h2>
            <p>Estimating interial frame position using only GPS and barameter readings.</p>
            <div class="view-details">Details →</div>
          </div>
        </div>
        <!-- add more cards as needed -->
      </div>
    </aside>

    <!-- DETAILS PANE -->
    <main class="details-panel" id="detailsPanel">
      <header>
        <button id="backBtn" class="back-btn">← Back</button>
        <h2 id="detailTitle">Select a project</h2>
        <button id="closeBtn" class="close-btn">×</button>
      </header>
      <div class="content" id="detailContent">
        <p>Click any card to see more here.</p>
      </div>
    </main>
  </div>

  <script>
    const container     = document.getElementById('container');
    const cards         = Array.from(document.querySelectorAll('.card'));
    const detailTitle   = document.getElementById('detailTitle');
    const detailContent = document.getElementById('detailContent');
    const closeBtn      = document.getElementById('closeBtn');
    const backBtn       = document.getElementById('backBtn');
    const detailsPanel  = document.getElementById('detailsPanel');

    function openDetails(card) {
      cards.forEach(c => c.classList.remove('selected'));
      card.classList.add('selected');
      detailTitle.textContent   = card.dataset.title;
      detailContent.textContent = card.dataset.description;
      container.classList.add('details-open');
      detailsPanel.scrollTop = 0;
    }

    function closeDetails() {
      cards.forEach(c => c.classList.remove('selected'));
      container.classList.remove('details-open');
    }

    cards.forEach(card => card.addEventListener('click', () => openDetails(card)));
    closeBtn.addEventListener('click', closeDetails);
    backBtn.addEventListener('click', closeDetails);

    // Swipe-to-close on mobile
    let touchStartX = 0, touchEndX = 0;
    function handleGesture() {
      if (touchEndX - touchStartX > 50) closeDetails();
    }
    detailsPanel.addEventListener('touchstart', e => touchStartX = e.changedTouches[0].screenX);
    detailsPanel.addEventListener('touchend',   e => { touchEndX = e.changedTouches[0].screenX; handleGesture(); });
  </script>
</body>
</html>
